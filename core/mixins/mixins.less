//
//  Mixins

//
// .mixins([
//    @min-max;
//    @align; 
//    @background; 
//    @index;
//    @relative; 
//    @min-width; 
//    @max-width;
// ]);

.getVal(@params:_; @repeat:0) {
    @lenght: length(@params);
    @1: extract(@params, 1);
    @2: if((@lenght = @repeat) and (2 > @repeat), @@repeat, if((@lenght > 1), extract(@params, 2), _));
    @3: if((@lenght = @repeat) and (3 > @repeat), @@repeat, if((@lenght > 2), extract(@params, 3), _));
    @4: if((@lenght = @repeat) and (4 > @repeat), @@repeat, if((@lenght > 3), extract(@params, 4), _));
    @5: if((@lenght = @repeat) and (5 > @repeat), @@repeat, if((@lenght > 4), extract(@params, 5), _));
    @6: if((@lenght = @repeat) and (6 > @repeat), @@repeat, if((@lenght > 5), extract(@params, 6), _));
}

.mixins(@min-max:_; @animation:null; @background:null; @border:null; @color:null; @display:null; @float:null; 
        @font:null; @fontface:null; @gradient:null; @index:null; @min-size:null; @position:null; @size:null; @spacing:null; 
        @textalign:null; @rounded:null; @shadow:null; @text:null; @transition:null;) {

        @min-width: .getVal(@min-max)[@1];
        @max-width: .getVal(@min-max)[@2];

    & when (@min-width=_) and (@max-width=_) {

        // Outside In ordering css properties

        // Layout properties
        .position(.getVal(@position)[@1], .getVal(@position)[@2], .getVal(@position, 2)[@3], .getVal(@position, 2)[@4], 
                  .getVal(@position, 2)[@5]);
        .float(@float);

        // Box-model properties
        .display(.getVal(@display)[@1], .getVal(@display)[@2], .getVal(@display, 2)[@3]);
        .spacing(.getVal(@spacing)[@1], .getVal(@spacing, 1)[@2]);
        .border(.getVal(@border)[@1], .getVal(@border)[@2], .getVal(@border)[@3]);
        .min-size(.getVal(@min-size)[@1], .getVal(@min-size, 1)[@2]);

        // Visual properties
        .back(.getVal(@background)[@1], .getVal(@background)[@2], .getVal(@background)[@3], .getVal(@background)[@4]);
        .gradient(.getVal(@gradient)[@1], .getVal(@gradient)[@2], .getVal(@gradient)[@3]);
        .rounded(.getVal(@rounded)[@1], .getVal(@rounded, 1)[@2], .getVal(@rounded, 1)[@3], .getVal(@rounded, 1)[@4]);
        .shadow(.getVal(@shadow)[@1], .getVal(@shadow)[@2], .getVal(@shadow)[@3], .getVal(@shadow)[@4]);
        
        // Typographic properties
        .color(.getVal(@color)[@1], .getVal(@color)[@2], .getVal(@color)[@3]);
        .font(.getVal(@font)[@1], .getVal(@font)[@2], .getVal(@font)[@3]);
        .font-face(.getVal(@fontface)[@1], .getVal(@fontface)[@2], .getVal(@fontface)[@3], .getVal(@fontface)[@4]);
        .text(.getVal(@text)[@1], .getVal(@text)[@2], .getVal(@text)[@3]);

        // Animation properties
        .animation(.getVal(@animation)[@1], .getVal(@animation)[@2], .getVal(@animation)[@3], 
                   .getVal(@animation)[@4], .getVal(@animation)[@5], .getVal(@animation)[@6]);
        .transition(.getVal(@transition)[@1], .getVal(@transition)[@2], .getVal(@transition)[@3], .getVal(@transition)[@4]);

        // Others
        .index(@index);
    }

    & when not (@min-width=_) and (@max-width=_) {
        @media all and (min-width: @min-width) {
            // Layout properties
            .position(.getVal(@position)[@1], .getVal(@position)[@2], .getVal(@position, 2)[@3], .getVal(@position, 2)[@4], 
                    .getVal(@position, 2)[@5]);
            .float(@float);

            // Box-model properties
            .display(.getVal(@display)[@1], .getVal(@display)[@2], .getVal(@display, 2)[@3]);
            .spacing(.getVal(@spacing)[@1], .getVal(@spacing, 1)[@2]);
            .min-size(.getVal(@min-size)[@1], .getVal(@min-size, 1)[@2]);

            // Visual properties
            .back(.getVal(@background)[@1], .getVal(@background)[@2], .getVal(@background)[@3], .getVal(@background)[@4]);
            .border(.getVal(@border)[@1], .getVal(@border)[@2], .getVal(@border)[@3]);
            .gradient(.getVal(@gradient)[@1], .getVal(@gradient)[@2], .getVal(@gradient)[@3]);
            .rounded(.getVal(@rounded)[@1], .getVal(@rounded, 1)[@2], .getVal(@rounded, 1)[@3], .getVal(@rounded, 1)[@4]);
            .shadow(.getVal(@shadow)[@1], .getVal(@shadow)[@2], .getVal(@shadow)[@3], .getVal(@shadow)[@4]);
            
            // Typographic properties
            .color(.getVal(@color)[@1], .getVal(@color)[@2], .getVal(@color)[@3]);
            .font(.getVal(@font)[@1], .getVal(@font)[@2], .getVal(@font)[@3]);
            .font-face(.getVal(@fontface)[@1], .getVal(@fontface)[@2], .getVal(@fontface)[@3], .getVal(@fontface)[@4]);
            .text(.getVal(@text)[@1], .getVal(@text)[@2], .getVal(@text)[@3]);

            // Animation properties
            .animation(.getVal(@animation)[@1], .getVal(@animation)[@2], .getVal(@animation)[@3], 
                    .getVal(@animation)[@4], .getVal(@animation)[@5], .getVal(@animation)[@6]);
            .transition(.getVal(@transition)[@1], .getVal(@transition)[@2], .getVal(@transition)[@3], .getVal(@transition)[@4]);

            // Others
            .index(@index);
        }
    }

    & when (@min-width=_) and not (@max-width=_) {
        @media all and (max-width: @max-width) {
            // Layout properties
            .position(.getVal(@position)[@1], .getVal(@position)[@2], .getVal(@position, 2)[@3], .getVal(@position, 2)[@4], 
                    .getVal(@position, 2)[@5]);
            .float(@float);

            // Box-model properties
            .display(.getVal(@display)[@1], .getVal(@display)[@2], .getVal(@display, 2)[@3]);
            .spacing(.getVal(@spacing)[@1], .getVal(@spacing, 1)[@2]);
            .min-size(.getVal(@min-size)[@1], .getVal(@min-size, 1)[@2]);

            // Visual properties
            .back(.getVal(@background)[@1], .getVal(@background)[@2], .getVal(@background)[@3], .getVal(@background)[@4]);
            .border(.getVal(@border)[@1], .getVal(@border)[@2], .getVal(@border)[@3]);
            .gradient(.getVal(@gradient)[@1], .getVal(@gradient)[@2], .getVal(@gradient)[@3]);
            .rounded(.getVal(@rounded)[@1], .getVal(@rounded, 1)[@2], .getVal(@rounded, 1)[@3], .getVal(@rounded, 1)[@4]);
            .shadow(.getVal(@shadow)[@1], .getVal(@shadow)[@2], .getVal(@shadow)[@3], .getVal(@shadow)[@4]);
            
            // Typographic properties
            .color(.getVal(@color)[@1], .getVal(@color)[@2], .getVal(@color)[@3]);
            .font(.getVal(@font)[@1], .getVal(@font)[@2], .getVal(@font)[@3]);
            .font-face(.getVal(@fontface)[@1], .getVal(@fontface)[@2], .getVal(@fontface)[@3], .getVal(@fontface)[@4]);
            .text(.getVal(@text)[@1], .getVal(@text)[@2], .getVal(@text)[@3]);

            // Animation properties
            .animation(.getVal(@animation)[@1], .getVal(@animation)[@2], .getVal(@animation)[@3], 
                    .getVal(@animation)[@4], .getVal(@animation)[@5], .getVal(@animation)[@6]);
            .transition(.getVal(@transition)[@1], .getVal(@transition)[@2], .getVal(@transition)[@3], .getVal(@transition)[@4]);

            // Others
            .index(@index);
        }
    }

    & when not (@min-width=_) and not (@max-width=_) {
        @media all and (min-width: @min-width) and (max-width: @max-width) {
            // Layout properties
            .position(.getVal(@position)[@1], .getVal(@position)[@2], .getVal(@position, 2)[@3], .getVal(@position, 2)[@4], 
                    .getVal(@position, 2)[@5]);
            .float(@float);

            // Box-model properties
            .display(.getVal(@display)[@1], .getVal(@display)[@2], .getVal(@display, 2)[@3]);
            .spacing(.getVal(@spacing)[@1], .getVal(@spacing, 1)[@2]);
            .min-size(.getVal(@min-size)[@1], .getVal(@min-size, 1)[@2]);

            // Visual properties
            .back(.getVal(@background)[@1], .getVal(@background)[@2], .getVal(@background)[@3], .getVal(@background)[@4]);
            .border(.getVal(@border)[@1], .getVal(@border)[@2], .getVal(@border)[@3]);
            .gradient(.getVal(@gradient)[@1], .getVal(@gradient)[@2], .getVal(@gradient)[@3]);
            .rounded(.getVal(@rounded)[@1], .getVal(@rounded, 1)[@2], .getVal(@rounded, 1)[@3], .getVal(@rounded, 1)[@4]);
            .shadow(.getVal(@shadow)[@1], .getVal(@shadow)[@2], .getVal(@shadow)[@3], .getVal(@shadow)[@4]);
            
            // Typographic properties
            .color(.getVal(@color)[@1], .getVal(@color)[@2], .getVal(@color)[@3]);
            .font(.getVal(@font)[@1], .getVal(@font)[@2], .getVal(@font)[@3]);
            .font-face(.getVal(@fontface)[@1], .getVal(@fontface)[@2], .getVal(@fontface)[@3], .getVal(@fontface)[@4]);
            .text(.getVal(@text)[@1], .getVal(@text)[@2], .getVal(@text)[@3]);

            // Animation properties
            .animation(.getVal(@animation)[@1], .getVal(@animation)[@2], .getVal(@animation)[@3], 
                    .getVal(@animation)[@4], .getVal(@animation)[@5], .getVal(@animation)[@6]);
            .transition(.getVal(@transition)[@1], .getVal(@transition)[@2], .getVal(@transition)[@3], .getVal(@transition)[@4]);

            // Others
            .index(@index);
        }
    }
}
